{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["var colorPicker = '';\nvar colorSelected = 'f83a22';\nvar maxPixels = 0;\nvar selectedPixels = 0;\n\n$(document).ready(function () {\n    /**\n     * Setup the color selector\n     */\n    $('.color-selector select option').each(function() {\n        var color = $(this).val();\n        colorPicker += '<div class=\"color\" id=\"' + color.replace('#', '') + '\" style=\"background-color:' + color + '\"></div>';\n    });\n    $('.color-selector').html(colorPicker).show();\n    $('#'+colorSelected).addClass('selected');\n    maxPixels = $('#max-pixels').html();\n\n    /**\n     * Select a color\n     */\n    $('.color-selector .color').click(function() {\n        //Get the currently selected color\n        $('.color.selected').removeClass('selected');\n\n        //Set the new selected color\n        colorSelected = $(this).attr('id').replace('#', '');\n        $(this).addClass('selected');\n    });\n\n    /**\n     * Select a grid item\n     */\n    $('.grid td').click(function() {\n        //If the grid item can be selected\n        if (!$(this).is('.disabled')) {\n            //If the user has not currently selected the item\n            if (!$(this).hasClass('user-specified')) {\n                if (selectedPixels < maxPixels) {\n                    $(this).css('background-color', '#'+colorSelected).addClass('user-specified');\n                    selectedPixels++;\n                }\n            } else {\n                $(this).css('background-color', 'inherit').removeClass('user-specified');\n                selectedPixels--;\n            }\n            $('#selected-pixels').html(selectedPixels);\n        }\n    });\n\n    /**\n     * Save the pixels\n     */\n    $('.save-button').click(function() {\n        var pixels= [];\n        $('.user-specified').each(function() {\n            var coordinates = $(this).attr('id');\n            var pixel = {\n                color: $(this).css('background-color'),\n                x: coordinates.substr(0, coordinates.indexOf('x')),\n                y: coordinates.substr(coordinates.indexOf('x')+1, coordinates.length)\n            };\n            pixels.push(pixel);\n        });\n\n        //Save using ajax\n        $.ajax(saveUrl, {\n            data: JSON.stringify(pixels),\n            contentType: 'application/json',\n            type: 'POST'\n        }).done(function() {\n            //Redirect back home\n            $(location).attr('href', siteUrl);\n        }).fail(function() {\n            alert(\"Something's gone wrong. Please try again\");\n            $(location).reload();\n        });\n\n    });\n});"],"sourceRoot":"/source/"}